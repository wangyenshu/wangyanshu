<div id="wang-banner" class="custom-banner">
  <div class="banner-inner">
    <div class="banner-left-group">
      <h1 class="banner-title">Yanshu Wang</h1>
      <div id="search-left-container"></div>
    </div>
    <div id="search-right-container"></div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  
  // 1. SELECT THE PIECES
  const banner = document.querySelector('#wang-banner');
  const navbar = document.querySelector('#quarto-header');
  const content = document.querySelector('#quarto-content');
  const search = document.querySelector('#quarto-search');
  
  // 2. CREATE THE MASTER WRAPPER (The 1100px Centered Box)
  const master = document.createElement('div');
  master.id = 'master-wrapper';
  
  // 3. INSERT MASTER WRAPPER INTO BODY
  document.body.prepend(master);

  // 4. MOVE PIECES INTO MASTER WRAPPER (Order matters!)
  
  // A. Banner
  if (banner) master.appendChild(banner);
  
  // B. Navbar
  if (navbar) {
    master.appendChild(navbar);
    // Remove "fixed" classes so it sits naturally in the stack
    navbar.classList.remove('fixed-top', 'sticky-top');
    navbar.style.position = 'relative';
    navbar.style.width = '100%';
  }
  
  // C. Content
  if (content) {
    master.appendChild(content);
    // Reset content margins
    content.style.marginTop = '0';
    content.style.paddingTop = '40px'; 
  }

  // 5. HANDLE SEARCH BAR
  if (search) {
    search.style.display = 'block';
    const rightDest = document.querySelector('#search-right-container');
    const leftDest = document.querySelector('#search-left-container');
    const path = window.location.pathname.toLowerCase();
    
    // Check if we have destinations before moving
    if (path.includes("presentations") && leftDest) {
       leftDest.appendChild(search);
    } else if (rightDest) {
       rightDest.appendChild(search);
    }
  }
});
</script>