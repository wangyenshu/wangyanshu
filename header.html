<div id="wang-banner" class="custom-banner">
  <div class="banner-inner">
    <div class="banner-left-group">
      <h1 class="banner-title">Yanshu Wang</h1>
      <div id="search-left-container"></div>
    </div>
    <div id="search-right-container"></div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  
  // 1. SELECT ELEMENTS
  const banner = document.querySelector('#wang-banner');
  const navbar = document.querySelector('#quarto-header');
  const content = document.querySelector('#quarto-content');
  const search = document.querySelector('#quarto-search');
  
  // 2. CREATE MASTER WRAPPER
  const master = document.createElement('div');
  master.id = 'master-wrapper';
  document.body.prepend(master);

  // 3. MOVE ELEMENTS INTO WRAPPER
  
  // A. Banner
  if (banner) master.appendChild(banner);
  
  // B. Navbar
  if (navbar) {
    master.appendChild(navbar);
    // CRITICAL: Remove Quarto's sticky classes
    navbar.classList.remove('fixed-top', 'sticky-top');
    // We also forcefully disable the 'headroom' behavior by un-initializing it if we can,
    // but usually CSS override is enough.
    navbar.style.position = 'relative';
    navbar.style.top = 'auto';
    navbar.style.width = '100%';
  }
  
  // C. Content
  if (content) {
    master.appendChild(content);
    content.style.marginTop = '0';
    content.style.paddingTop = '40px'; 
  }

  // 4. HANDLE SEARCH BAR (Always Right)
  if (search) {
    search.style.display = 'block';
    const rightDest = document.querySelector('#search-right-container');
    if (rightDest) {
       rightDest.appendChild(search);
    }
  }
});
</script>